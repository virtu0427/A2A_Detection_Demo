{% extends "base.html" %}
{% block title %}패킷 분석 · A2A 보안 센터{% endblock %}
{% block page_id %}packets{% endblock %}
{% block content %}
  <div class="packets-page">
    <header class="packets-header">
      <div>
        <h1>패킷 분석 아카이브</h1>
        <p>저장된 A2A 패킷을 위협 유형과 에이전트별로 빠르게 찾아볼 수 있습니다.</p>
      </div>
      <ul class="packet-metrics">
        <li>
          <span>총 로그</span>
          <strong id="metric-total-packets">-</strong>
        </li>
        <li>
          <span>고위험</span>
          <strong id="metric-severity-high">-</strong>
        </li>
        <li>
          <span>중간</span>
          <strong id="metric-severity-medium">-</strong>
        </li>
        <li>
          <span>낮음</span>
          <strong id="metric-severity-low">-</strong>
        </li>
      </ul>
    </header>

    <div class="packets-content">
      <aside class="packets-sidebar">
        <section class="filter-overview">
          <h2>빠른 필터</h2>
          <p>자주 사용하는 조건을 클릭하면 즉시 결과가 갱신됩니다.</p>
          <div class="quick-filters">
            <button type="button" data-severity="높음" class="chip">고위험</button>
            <button type="button" data-severity="중간" class="chip">중간</button>
            <button type="button" data-severity="낮음" class="chip">낮음</button>
            <button type="button" data-reset class="chip muted">초기화</button>
          </div>
        </section>

        <section class="filter-form-wrapper">
          <h2>세부 검색</h2>
          <form id="packet-filter" class="filter-form">
            <label>
              위협 유형
              <input name="threat" placeholder="예: Task Replay" />
            </label>
            <label>
              심각도
              <select name="severity">
                <option value="">전체</option>
                <option value="높음">높음</option>
                <option value="중간">중간</option>
                <option value="낮음">낮음</option>
              </select>
            </label>
            <label>
              출발 에이전트
              <input name="source" placeholder="예: Atlas" />
            </label>
            <label>
              도착 에이전트
              <input name="target" placeholder="예: Hermes" />
            </label>
            <label>
              네트워크 레이어
              <select name="layer">
                <option value="">전체</option>
                <option value="Layer 1">Layer 1</option>
                <option value="Layer 2">Layer 2</option>
                <option value="Layer 3">Layer 3</option>
                <option value="Layer 4">Layer 4</option>
                <option value="Layer 6">Layer 6</option>
                <option value="Layer 7">Layer 7</option>
              </select>
            </label>
            <button type="submit">검색 실행</button>
          </form>
        </section>
      </aside>

      <section class="packets-main">
        <header class="packets-main-header">
          <h2>분석 결과</h2>
          <p>행을 클릭하면 관련 에이전트 상세 페이지로 이동합니다.</p>
        </header>
        <div class="table-wrapper">
          <table id="packet-table">
            <thead>
              <tr>
                <th>시간</th>
                <th>출발</th>
                <th>도착</th>
                <th>레이어</th>
                <th>위협</th>
                <th>심각도</th>
                <th>요약</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="7" class="empty">조건을 선택하거나 검색을 실행해 주세요.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>
  </div>
{% endblock %}
